var xhrPool=[];$(document).ajaxSend(function(e,a,o){xhrPool.push(a)}),$(document).ajaxComplete(function(e,a,o){xhrPool=$.grep(xhrPool,function(e){return e!=a})}),$(window).on("beforeunload",function(){$.each(xhrPool,function(e,a){void 0!==a&&a.abort()})}),$(document).ready(function(){$("body").on("click","[data-ma-action]",function(e){e.preventDefault();var a=$(this);switch($(this).data("ma-action")){case"sidebar-open":var o=a.data("ma-target");$("body").addClass("sidebar-toggled"),$("#header, #header-alt, #main").append('<div data-ma-action="sidebar-close" class="ma-backdrop" />'),a.addClass("toggled"),$(o).addClass("toggled");break;case"sidebar-close":$("body").removeClass("sidebar-toggled"),$(".ma-backdrop").remove(),$(".sidebar, .ma-trigger").removeClass("toggled");break;case"profile-menu-toggle":a.parent().toggleClass("toggled"),a.next().slideToggle(200);break;case"submenu-toggle":a.next().slideToggle(200),a.parent().toggleClass("toggled");break;case"search-open":$("#header").addClass("search-toggled"),$("#top-search-wrap input").focus();break;case"search-close":$("#header").removeClass("search-toggled");break;case"clear-notification":var t=a.closest(".list-group"),n=t.find(".list-group-item"),s=n.size();a.parent().fadeOut(),t.find(".list-group").prepend('<i class="grid-loading hide-it"></i>'),t.find(".grid-loading").fadeIn(1500);var l=0;n.each(function(){var e=$(this);setTimeout(function(){e.addClass("animated fadeOutRightBig").delay(1e3).queue(function(){e.remove()})},l+=150)}),setTimeout(function(){$(".him-notification").addClass("empty")},150*s+200);break;case"fullscreen":!function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}(document.documentElement);break;case"clear-localstorage":swal({title:"Are you sure?",text:"All your saved localStorage values will be removed",type:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(){localStorage.clear(),swal("Done!","localStorage is cleared","success")});break;case"print":window.print();break;case"login-switch":var i=a.data("ma-block");a.closest(".lc-block").removeClass("toggled"),setTimeout(function(){$(i).addClass("toggled")});break;case"profile-edit":a.closest(".pmb-block").toggleClass("toggled");break;case"profile-edit-cancel":$(this).closest(".pmb-block").removeClass("toggled");break;case"action-header-open":ahParent=a.closest(".action-header").find(".ah-search"),ahParent.fadeIn(300),ahParent.find(".ahs-input").focus();break;case"action-header-close":ahParent.fadeOut(300),setTimeout(function(){ahParent.find(".ahs-input").val("")},350);break;case"wall-comment-open":a.closest(".wic-form").hasClass("toggled")||a.closest(".wic-form").addClass("toggled");break;case"wall-comment-close":a.closest(".wic-form").find("textarea").val(""),a.closest(".wic-form").removeClass("toggled");break;case"todo-form-open":a.closest(".t-add").addClass("toggled");break;case"todo-form-close":a.closest(".t-add").removeClass("toggled"),a.closest(".t-add").find("textarea").val("");break;case"change-skin":var r=a.data("ma-skin");$("[data-ma-theme]").attr("data-ma-theme",r)}})}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&$("html").addClass("ismobile"),$(".page-loader").fadeOut(),$(document).ready(function(){$("html").hasClass("ismobile")||$(".c-overflow")[0]&&function(e,a,o){$(e).mCustomScrollbar({theme:a,scrollInertia:100,axis:"yx",mouseWheel:{enable:!0,axis:o,preventDefault:!0}})}(".c-overflow","minimal-dark","y"),$(".dropdown")[0]&&($("body").on("click",".dropdown.open .dropdown-menu",function(e){e.stopPropagation()}),$(".dropdown").on("shown.bs.dropdown",function(e){$(this).attr("data-animation")&&($animArray=[],$animation=$(this).data("animation"),$animArray=$animation.split(","),$animationIn="animated "+$animArray[0],$animationOut="animated "+$animArray[1],$animationDuration="",$animArray[2]?$animationDuration=$animArray[2]:$animationDuration=500,$(this).find(".dropdown-menu").removeClass($animationOut),$(this).find(".dropdown-menu").addClass($animationIn))}),$(".dropdown").on("hide.bs.dropdown",function(e){$(this).attr("data-animation")&&(e.preventDefault(),$this=$(this),$dropdownMenu=$this.find(".dropdown-menu"),$dropdownMenu.addClass($animationOut),setTimeout(function(){$this.removeClass("open")},$animationDuration))})),$(".auto-size")[0]&&autosize($(".auto-size")),$(document).on("focus",".fg-line .form-control",function(){$(this).closest(".fg-line").addClass("fg-toggled")}),$(document).on("blur",".form-control",function(){var e=$(this).closest(".form-group, .input-group"),a=e.find(".form-control").val();e.hasClass("fg-float")?0==a.length&&$(this).closest(".fg-line").removeClass("fg-toggled"):$(this).closest(".fg-line").removeClass("fg-toggled")}),$(".fg-float")[0]&&$(".fg-float .form-control").each(function(){0==!$(this).val().length&&$(this).closest(".fg-line").addClass("fg-toggled")}),Waves.attach(".btn:not(.btn-icon):not(.btn-float)"),Waves.attach(".btn-icon, .btn-float",["waves-circle","waves-float"]),Waves.init(),$("body").on("click",".a-prevent",function(e){e.preventDefault()}),$(".collapse")[0]&&($(".collapse").on("show.bs.collapse",function(e){$(this).closest(".panel").find(".panel-heading").addClass("active")}),$(".collapse").on("hide.bs.collapse",function(e){$(this).closest(".panel").find(".panel-heading").removeClass("active")}),$(".collapse.in").each(function(){$(this).closest(".panel").find(".panel-heading").addClass("active")})),$("html").hasClass("ie9")&&$("input, textarea").placeholder({customClass:"ie9-placeholder"}),$("#logout").click(function(){swal({title:"Are you sure ?",text:"Your session will be ended",type:"warning",showCancelButton:!0,closeOnConfirm:!1},function(e){e&&(swal({title:"Log Out",type:"success",text:"Logging you out...",showConfirmButton:!1}),setTimeout(function(){window.location=App.baseUrl("auth/logout")},1e3))})}),$(document).on("click",'[data-toggle="fullscreen"]',function(){var e=$(this);e.closest(".card").toggleClass("fullscreen"),e.find("i").removeClass("zmdi-fullscreen").addClass("zmdi-close"),e.attr("data-toggle","exit-fullscreen")}),$(document).on("click",'[data-toggle="exit-fullscreen"]',function(){var e=$(this);e.attr("data-toggle","fullscreen"),e.find("i").addClass("zmdi-close").addClass("zmdi-fullscreen"),e.closest(".card").toggleClass("fullscreen")})});